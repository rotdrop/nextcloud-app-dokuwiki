(()=>{var e={3375:e=>{e.exports={info:{$:{"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:noNamespaceSchemaLocation":"https://apps.nextcloud.com/schema/apps/info.xsd"},id:["dokuwiki"],name:["DokuWiki Integration"],summary:["Embed an existing DokuWiki instance into Nextcloud, potentially with SSO."],description:["Embed an existing DokuWiki instance into Nextcloud, potentially with SSO. For SSO DokuWiki users and Nextcloud users have to coincide, e.g. by using a common authentication backend like LDAP, or with an appropriate auth plugin on either side of the integration."],version:["1.0.2-rc1"],licence:["agpl"],author:[{_:"Claus-Justus Heine",$:{mail:"himself@claus-justus-heine.de",homepage:"https://www.claus-justus-heine.de"}}],namespace:["DokuWiki"],category:["integration","organization","social"],bugs:["https://github.com/rotdrop/nextcloud-app-dokuwiki"],dependencies:[{nextcloud:[{$:{"min-version":"26","max-version":"28"}}],php:[{$:{"min-version":"8.0.2","max-version":"8.3"}}]}],navigations:[{navigation:[{name:["DokuWiki"],route:["dokuwiki.page.index"]}]}],settings:[{admin:["OCA\\DokuWiki\\Settings\\Admin"],"admin-section":["OCA\\DokuWiki\\Settings\\AdminSection"]}],screenshot:["https://github.com/rotdrop/nextcloud-app-dokuwiki/raw/master/contrib/screenshots/start-page.png","https://github.com/rotdrop/nextcloud-app-dokuwiki/raw/master/contrib/screenshots/admin-settings.png","https://github.com/rotdrop/nextcloud-app-dokuwiki/raw/master/contrib/screenshots/jquery-popup.png"]}}}},o={};function i(t){var n=o[t];if(void 0!==n)return n.exports;var r=o[t]={exports:{}};return e[t](r,r.exports,i),r.exports}(()=>{"use strict";const e=i(3375).info.id[0],o=e,n=function(i,n,r){const a=i.contentWindow.document;a.querySelectorAll(".logout").forEach((e=>e.remove())),a.querySelectorAll("li:empty").forEach((e=>e.remove())),a.querySelectorAll("form.btn_logout").forEach((e=>e.remove())),a.querySelectorAll(":scope #dokuwiki__usertools li.user").forEach((e=>e.remove())),a.querySelectorAll(":scope #dokuwiki__usertools li.action.profile").forEach((e=>e.remove())),a.querySelectorAll("a").forEach((e=>{e.hostname&&e.hostname!==window.location.hostname&&e.setAttribute("target","_blank")}));const s=a.querySelector("div.preview");s&&(s.querySelectorAll('a[class^="wikilink"]').forEach((o=>{o.addEventListener("click",(function(o){o.stopPropagation(),o.preventDefault();const i=o.target.getAttribute("href").replace(/^\/[^?]+\?id=(.*)$/,"$1");OC.dialogs.alert(t(e,"Links to wiki pages are disabled in preview mode."),t(e,"Link to wiki page")+' "'+i+'"')}),!0)})),s.querySelectorAll('a[class^="media"]').forEach((o=>{o.addEventListener("click",(function(o){o.stopPropagation(),o.preventDefault();const i=o.target.getAttribute("href").replace(/^\/[^?]+\?id=(.*)$/,"$1");OC.dialogs.alert(t(e,"Links to media files are disabled in preview mode."),t(e,"Link to wiki page")+' "'+i+'"')}),!0)}))),void 0===r&&(r=function(){});document.getElementById(o+"Loader").classList.add("fading"),i.classList.remove("faded"),r(i,n)},r=e;(e=>{"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)})((()=>{console.info("DokuWiki webPrefix",r);const e=document.getElementById(r+"FrameWrapper"),t=document.getElementById(r+"Frame"),o=function(){const e=window.innerHeight-t.getBoundingClientRect().top;t.style.height=e+"px";const o=t.getBoundingClientRect().height-t.clientHeight;o&&(t.style.height=e-o+"px")};if(t){let i;t.addEventListener("load",(()=>n(t,e,o))),window.addEventListener("resize",(()=>{clearTimeout(i),i=setTimeout(o)})),(t.contentWindow.document.querySelector(".logout")||t.contentWindow.document.querySelector(".login"))&&n(t,e,o)}}))})()})();
//# sourceMappingURL=app-2509b7c2914ef07ef9c2.js.map