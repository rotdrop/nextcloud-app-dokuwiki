/*! For license information please see app-7f17b9c7bd2021267fcd.js.LICENSE.txt */
(()=>{var e={2005:e=>{e.exports={info:{$:{"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:noNamespaceSchemaLocation":"https://apps.nextcloud.com/schema/apps/info.xsd"},id:["dokuwiki"],name:["DokuWiki Integration"],summary:["Embed an existing DokuWiki instance into Nextcloud, potentially with SSO."],description:["Embed an existing DokuWiki instance into Nextcloud, potentially with SSO. For SSO DokuWiki users and Nextcloud users have to coincide, e.g. by using a common authentication backend like LDAP, or with an appropriate auth plugin on either side of the integration."],version:["1.0.1"],licence:["agpl"],author:[{_:"Claus-Justus Heine",$:{mail:"himself@claus-justus-heine.de",homepage:"https://www.claus-justus-heine.de"}}],namespace:["DokuWiki"],category:["integration","organization","social"],bugs:["https://github.com/rotdrop/nextcloud-app-dokuwiki"],dependencies:[{nextcloud:[{$:{"min-version":"25","max-version":"27"}}],php:[{$:{"min-version":"8.0.2","max-version":"8.2"}}]}],navigations:[{navigation:[{name:["DokuWiki"],route:["dokuwiki.page.index"]}]}],settings:[{admin:["OCA\\DokuWiki\\Settings\\Admin"],"admin-section":["OCA\\DokuWiki\\Settings\\AdminSection"]}],screenshot:["https://github.com/rotdrop/nextcloud-app-dokuwiki/raw/master/contrib/screenshots/start-page.png","https://github.com/rotdrop/nextcloud-app-dokuwiki/raw/master/contrib/screenshots/admin-settings.png","https://github.com/rotdrop/nextcloud-app-dokuwiki/raw/master/contrib/screenshots/jquery-popup.png"]}}}},i={};function o(t){var n=i[t];if(void 0!==n)return n.exports;var r=i[t]={exports:{}};return e[t](r,r.exports,o),r.exports}(()=>{"use strict";var e=o(2005).info.id[0];var i=e,n=function(o,n,r){var a=o.contentWindow.document;a.querySelectorAll(".logout").forEach((function(e){return e.remove()})),a.querySelectorAll("li:empty").forEach((function(e){return e.remove()})),a.querySelectorAll("form.btn_logout").forEach((function(e){return e.remove()})),a.querySelectorAll(":scope #dokuwiki__usertools li.user").forEach((function(e){return e.remove()})),a.querySelectorAll(":scope #dokuwiki__usertools li.action.profile").forEach((function(e){return e.remove()})),a.querySelectorAll("a").forEach((function(e){e.hostname&&e.hostname!==window.location.hostname&&e.setAttribute("target","_blank")}));var s=a.querySelector("div.preview");s&&(s.querySelectorAll('a[class^="wikilink"]').forEach((function(i){i.addEventListener("click",(function(i){i.stopPropagation(),i.preventDefault();var o=i.target.getAttribute("href").replace(/^\/[^?]+\?id=(.*)$/,"$1");OC.dialogs.alert(t(e,"Links to wiki pages are disabled in preview mode."),t(e,"Link to wiki page")+' "'+o+'"')}),!0)})),s.querySelectorAll('a[class^="media"]').forEach((function(i){i.addEventListener("click",(function(i){i.stopPropagation(),i.preventDefault();var o=i.target.getAttribute("href").replace(/^\/[^?]+\?id=(.*)$/,"$1");OC.dialogs.alert(t(e,"Links to media files are disabled in preview mode."),t(e,"Link to wiki page")+' "'+o+'"')}),!0)}))),void 0===r&&(r=function(){}),document.getElementById(i+"Loader").classList.add("fading"),o.classList.remove("faded"),r(o,n)},r=e;(function(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)})((function(){console.info("DokuWiki webPrefix",r);var e,t=document.getElementById(r+"FrameWrapper"),i=document.getElementById(r+"Frame"),o=function(){var e=window.innerHeight-i.getBoundingClientRect().top;i.style.height=e+"px";var t=i.getBoundingClientRect().height-i.clientHeight;t&&(i.style.height=e-t+"px")};i&&(i.addEventListener("load",(function(){return n(i,t,o)})),window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout(o)})),(i.contentWindow.document.querySelector(".logout")||i.contentWindow.document.querySelector(".login"))&&n(i,t,o))}))})()})();
//# sourceMappingURL=app-7f17b9c7bd2021267fcd.js.map